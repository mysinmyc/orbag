{"version":3,"file":"js/about.35c5cce0.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,0BAA0BP,EAAIK,GAAG,sEAAsEH,EAAG,UAAU,CAACM,MAAM,CAAC,QAAUR,EAAIS,YAAY,KAAOT,EAAIU,YAAY,YAAc,KAAK,CAACV,EAAIK,GAAGL,EAAIM,GAAGN,EAAIW,aAAaT,EAAG,MAAMA,EAAG,MAAMA,EAAG,iBAAiBF,EAAIY,GAAIZ,EAAIa,qBAAqB,SAASC,GAAQ,OAAOZ,EAAG,WAAW,CAACa,IAAID,EAAOE,KAAKC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImB,cAAcL,MAAW,CAACd,EAAIK,GAAGL,EAAIM,GAAGQ,EAAOM,oBAAmB,GAAGlB,EAAG,MAAMA,EAAG,MAAMA,EAAG,UAAU,CAACM,MAAM,CAAC,MAAQR,EAAIqB,IAAI,OAAS,CAAC,gBAAgB,WAAa,GAAG,cAAc,SAASJ,GAAG,CAAC,eAAejB,EAAIsB,kBAAkB,IAEruBC,EAAkB,G,mBCOhB,SAAUC,EAAuBjB,GACnC,OAAO,IAAIkB,SAAgC,CAACC,EAAQC,KAChDC,IAAAA,IAAiC,aAAarB,GAAuBsB,MAAKC,GAAKJ,EAAQI,EAAEC,QAAOC,OAAMC,GAAUN,EAAOM,QCgBzH,SAAUC,EAAoBb,GAChC,OAAO,IAAII,SAAmC,CAACC,EAAQC,KACnD,MAAMQ,EAAmC,CAAEC,UAAWf,GACtDO,IAAAA,KAAuC,2BAA4BO,GAASN,MAAKC,GAC7EJ,EAAQI,EAAEC,KAAKM,oBACjBL,OAAMC,GAASN,EAAOM,QAI1B,SAAUK,EAAaxB,EAA2BO,GACpD,OAAO,IAAII,SAA8B,CAACC,EAAQC,KAC9C,MAAMQ,EAA8B,CAAErB,OAAOA,EAAQsB,UAAWf,GAChEO,IAAAA,KAAiC,qBAAsBO,GAASN,MAAKC,GACjEJ,EAAQI,EAAEC,QACZC,OAAMC,GAASN,EAAOM,QCrChC,OACIF,OACI,MAAO,CACHV,IAAKkB,QACLC,YAAaD,QACb1B,oBAAqB0B,QACrB5B,SAAU,GACVD,aAAY,EACZD,YAAa,YAGrBgC,SAAU,CACNlC,wBACI,OAAON,KAAKyC,OAAOC,OAAOpC,wBAGlCqC,UACI3C,KAAK4C,cAETC,QAAS,CACLD,aACIrB,EAAuBvB,KAAKM,uBAAuBsB,MAAMC,IACrD7B,KAAKoB,IAAMS,EAAET,QAGrBC,cAAcyB,GACV9C,KAAKY,oBAAoB,GACzBZ,KAAKuC,YAAcO,EACnBb,EAAoBjC,KAAKuC,aAAaX,MAAMC,IACxC7B,KAAKY,oBAAsBiB,MAGnCX,cAAcL,GACVb,KAAKS,aAAY,EACjB4B,EAAaxB,EAAQb,KAAKuC,aAAaX,MAAKC,IACxC7B,KAAKU,SAAWmB,EAAEkB,QAClB/C,KAAKS,aAAY,EACjBT,KAAKQ,YAAY,UACjBR,KAAK4C,gBACNb,OAAQC,IACPhC,KAAKU,SAAWG,EAAOM,aAAe,YAAYa,EAClDhC,KAAKQ,YAAY,UACjBR,KAAKS,aAAY,EACjBT,KAAK4C,mBC/CyQ,I,UCO1RI,GAAY,OACd,EACAlD,EACAwB,GACA,EACA,KACA,KACA,MAIF,EAAe0B,EAAiB","sources":["webpack://orbag-ui/./src/views/ListView.vue","webpack://orbag-ui/./src/framework/list.ts","webpack://orbag-ui/./src/framework/action.ts","webpack://orbag-ui/./src/views/ListView.vue?ff48","webpack://orbag-ui/./src/views/ListView.vue?8fb2","webpack://orbag-ui/./src/views/ListView.vue?9fcc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('h1',[_vm._v(_vm._s(_vm.configurationItemType))]),_vm._v(\" Select cis from list, then click on one of the available actions \"),_c('b-alert',{attrs:{\"variant\":_vm.messageType,\"show\":_vm.showMessage,\"dismissible\":\"\"}},[_vm._v(_vm._s(_vm.messsage))]),_c('br'),_c('br'),_c('b-button-group',_vm._l((_vm.availablableActions),function(action){return _c('b-button',{key:action.name,on:{\"click\":function($event){return _vm.onClickAction(action)}}},[_vm._v(_vm._s(action.displayLabel))])}),1),_c('br'),_c('br'),_c('b-table',{attrs:{\"items\":_vm.cis,\"fields\":['displayLabel'],\"selectable\":\"\",\"select-mode\":\"multi\"},on:{\"row-selected\":_vm.onRowSelected}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { ConfigurationItemReference } from \"./common\";\nimport axios from \"axios\";\n\nexport type ConfigurationItemList = {\n    cis: Array<ConfigurationItemReference>\n}\n\n\nexport function listConfigurationItems(configurationItemType:string):Promise<ConfigurationItemList> {\n    return new Promise<ConfigurationItemList>( (resolve,reject) =>{\n        axios.get<ConfigurationItemList>(\"/api/list/\"+configurationItemType).then(r => resolve(r.data)).catch(reason => reject(reason));\n    })\n}","import axios from \"axios\"\nimport { ConfigurationItemReference } from \"./common\"\n\nexport type GetAvailablActionRequest = {\n    targetCis: Array<ConfigurationItemReference>\n}\n\nexport type SerializableAction = {\n    identifier: string,\n    displayLabel: string\n}\n\nexport type GetAvailableActionResponse = {\n    availableActions: Array<SerializableAction>\n}\n\n\nexport type SubmitActionRequest = {\n    action: SerializableAction,\n    targetCis: Array<ConfigurationItemReference>\n}\n\nexport type SubmitActionResponse = {\n    jobId: string,\n    message: string\n}\n\nexport function getAvailableActions(cis: Array<ConfigurationItemReference>): Promise<Array<SerializableAction>> {\n    return new Promise<Array<SerializableAction>>((resolve,reject)=>{\n        const request:GetAvailablActionRequest = { targetCis: cis};\n        axios.post<GetAvailableActionResponse>(\"/api/action/getAvailable\", request).then(r=>\n            resolve(r.data.availableActions)\n        ).catch(reason=> reject(reason));\n    })\n}\n\nexport function submitAction(action:SerializableAction, cis: Array<ConfigurationItemReference>): Promise<SubmitActionResponse> {\n    return new Promise<SubmitActionResponse>((resolve,reject)=>{\n        const request:SubmitActionRequest = { action:action, targetCis: cis};\n        axios.post<SubmitActionResponse>(\"/api/action/submit\", request).then(r=>\n            resolve(r.data)\n        ).catch(reason=> reject(reason));\n    })\n}","\nimport {ConfigurationItemReference} from \"@/framework/common\"\nimport {listConfigurationItems} from \"@/framework/list\"\nimport {getAvailableActions, SerializableAction,submitAction} from \"@/framework/action\"\nexport default {\n    data() {\n        return {\n            cis: Array<ConfigurationItemReference>(),\n            selectedCis: Array<ConfigurationItemReference>(),\n            availablableActions: Array<SerializableAction>(),\n            messsage: \"\",\n            showMessage:false,\n            messageType: \"success\"\n        }\n    },\n    computed: {\n        configurationItemType():string {\n            return this.$route.params.configurationItemType;\n        }\n    },\n    mounted() {\n        this.reloadList();\n    },\n    methods: {\n        reloadList() {\n            listConfigurationItems(this.configurationItemType).then( r => {\n                this.cis = r.cis;\n            });\n        },\n        onRowSelected(items:Array<ConfigurationItemReference>) {\n            this.availablableActions=[];\n            this.selectedCis = items;\n            getAvailableActions(this.selectedCis).then( r=>{\n                this.availablableActions = r;\n            });\n        },\n        onClickAction(action:SerializableAction) {\n            this.showMessage=false;\n            submitAction(action, this.selectedCis).then(r=>{\n                this.messsage = r.message;\n                this.showMessage=true;\n                this.messageType=\"success\";\n                this.reloadList();\n            }).catch ( reason=> {\n                this.messsage = action.displayLabel + \" failed: \"+reason;\n                this.messageType=\"warning\";\n                this.showMessage=true;\n                this.reloadList();\n            });\n        }\n    }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ListView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ListView.vue?vue&type=template&id=240ff558&\"\nimport script from \"./ListView.vue?vue&type=script&lang=ts&\"\nexport * from \"./ListView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","configurationItemType","attrs","messageType","showMessage","messsage","_l","availablableActions","action","key","name","on","$event","onClickAction","displayLabel","cis","onRowSelected","staticRenderFns","listConfigurationItems","Promise","resolve","reject","axios","then","r","data","catch","reason","getAvailableActions","request","targetCis","availableActions","submitAction","Array","selectedCis","computed","$route","params","mounted","reloadList","methods","items","message","component"],"sourceRoot":""}