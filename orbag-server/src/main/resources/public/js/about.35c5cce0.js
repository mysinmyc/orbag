"use strict";(self["webpackChunkorbag_ui"]=self["webpackChunkorbag_ui"]||[]).push([[443],{2047:function(e,s,t){t.r(s),t.d(s,{default:function(){return m}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"home"},[s("h1",[e._v(e._s(e.configurationItemType))]),e._v(" Select cis from list, then click on one of the available actions "),s("b-alert",{attrs:{variant:e.messageType,show:e.showMessage,dismissible:""}},[e._v(e._s(e.messsage))]),s("br"),s("br"),s("b-button-group",e._l(e.availablableActions,(function(t){return s("b-button",{key:t.name,on:{click:function(s){return e.onClickAction(t)}}},[e._v(e._s(t.displayLabel))])})),1),s("br"),s("br"),s("b-table",{attrs:{items:e.cis,fields:["displayLabel"],selectable:"","select-mode":"multi"},on:{"row-selected":e.onRowSelected}})],1)},i=[],n=t(6265),o=t.n(n);function c(e){return new Promise(((s,t)=>{o().get("/api/list/"+e).then((e=>s(e.data))).catch((e=>t(e)))}))}function l(e){return new Promise(((s,t)=>{const a={targetCis:e};o().post("/api/action/getAvailable",a).then((e=>s(e.data.availableActions))).catch((e=>t(e)))}))}function r(e,s){return new Promise(((t,a)=>{const i={action:e,targetCis:s};o().post("/api/action/submit",i).then((e=>t(e.data))).catch((e=>a(e)))}))}var h={data(){return{cis:Array(),selectedCis:Array(),availablableActions:Array(),messsage:"",showMessage:!1,messageType:"success"}},computed:{configurationItemType(){return this.$route.params.configurationItemType}},mounted(){this.reloadList()},methods:{reloadList(){c(this.configurationItemType).then((e=>{this.cis=e.cis}))},onRowSelected(e){this.availablableActions=[],this.selectedCis=e,l(this.selectedCis).then((e=>{this.availablableActions=e}))},onClickAction(e){this.showMessage=!1,r(e,this.selectedCis).then((e=>{this.messsage=e.message,this.showMessage=!0,this.messageType="success",this.reloadList()})).catch((s=>{this.messsage=e.displayLabel+" failed: "+s,this.messageType="warning",this.showMessage=!0,this.reloadList()}))}}},u=h,b=t(1001),d=(0,b.Z)(u,a,i,!1,null,null,null),m=d.exports}}]);
//# sourceMappingURL=about.35c5cce0.js.map