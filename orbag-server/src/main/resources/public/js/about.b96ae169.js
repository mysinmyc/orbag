"use strict";(self["webpackChunkorbag_ui"]=self["webpackChunkorbag_ui"]||[]).push([[443],{8692:function(e,t,a){a.d(t,{Z:function(){return u}});var s=function(){var e=this,t=e._self._c;return void 0!=e.value?t("b-link",{attrs:{to:e.link}},[t("b-icon",{attrs:{icon:"link"}}),e._v(" "+e._s(e.value.displayLabel)+" ")],1):e._e()},n=[],i={props:{value:{type:Object}},computed:{link(){return"/edit/"+this.value.configurationItemType+"/"+this.value.identifier}}},r=i,o=a(1001),l=(0,o.Z)(r,s,n,!1,null,null,null),u=l.exports},4377:function(e,t,a){a.d(t,{Z:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",[t("b-alert",{attrs:{variant:e.messageType,show:e.showMessage,dismissible:""}},[e._v(e._s(e.messsage))]),t("br"),void 0!=e.value?.rows&&e.value.rows.length>0?t("div",[e._v(" Select cis from list to show the available actions "),t("br"),e._l(e.availablableActions,(function(a){return t("b-button",{key:a.identifier,staticClass:"m-2",on:{click:function(t){return e.onClickAction(a)}}},[e._v(e._s(a.displayLabel))])}))],2):e._e(),void 0!=e.value?t("b-table",{attrs:{responsive:"","sticky-header":"true","head-variant":"light",items:e.value.rows,"select-mode":"multi",selectable:"",fields:e.fields},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell()",fn:function(a){return["Reference"==a.field.nestedColumn.type&&""!=a.value?t("configuration-item-link",{model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"data.value"}}):t("span",[e._v(e._s(a.value))])]}}],null,!1,1167594351)}):e._e()],1)},n=[],i=a(8692),r=a(6844),o={components:{ConfigurationItemLink:i.Z},data(){return{selectedCis:Array(),availablableActions:Array(),messsage:"",showMessage:!1,messageType:"success"}},props:{value:{type:Object}},computed:{fields(){const e=[];if(null!=this.value?.columns)for(let t of this.value?.columns)e.push({key:t.name,label:t.displayLabel,nestedColumn:t,sortable:!0});return e.sort(((e,t)=>e.key.startsWith("__")?-1:t.key.startsWith("__")?1:e.label.localeCompare(t.label))),e}},methods:{onRowSelected(e){this.availablableActions=[],this.selectedCis=new Array;for(let t of e)this.selectedCis.push(t.__reference);(0,r.u)(this.selectedCis).then((e=>{this.availablableActions=e}))},onClickAction(e){this.showMessage=!1,(0,r.F)(e,this.selectedCis).then((e=>{this.messsage=e.message,this.showMessage=!0,this.messageType="success","NONE"!=e.consequences&&this.$emit("change",this.value)})).catch((t=>{this.messsage=e.displayLabel+" failed: "+t,this.messageType="warning",this.showMessage=!0}))}}},l=o,u=a(1001),c=(0,u.Z)(l,s,n,!1,null,null,null),d=c.exports},4207:function(e,t,a){a.d(t,{Z:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("b-container",{attrs:{fluid:""}},[e._l(e.value?.stringFields,(function(a){return t("b-row",{key:a.name,staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-none"}},[e._v(e._s(a.displayLabel))])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-input",{attrs:{readonly:a.readOnly},on:{change:function(t){return e.update(a)}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"property.value"}})],1)],1)})),e._l(e.value?.booleanFields,(function(a){return t("b-row",{key:a.name,staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-none"}},[e._v(e._s(a.displayLabel))])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-checkbox",{attrs:{readonly:a.readOnly},on:{change:function(t){return e.update(a)}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"property.value"}})],1)],1)})),e._l(e.value?.numericFields,(function(a){return t("b-row",{key:a.name,staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-none"}},[e._v(e._s(a.displayLabel))])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-input",{attrs:{type:"number",readonly:a.readOnly},on:{change:function(t){return e.update(a)}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"property.value"}})],1)],1)})),e._l(e.value?.configurationItemReferenceFields,(function(a){return t("b-row",{key:a.name,staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-none"}},[e._v(e._s(a.displayLabel))])]),t("b-col",{attrs:{sm:"9"}},[t("configuration-item-link",{attrs:{readonly:a.readOnly},on:{change:function(t){return e.update(a)}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"property.value"}}),a.readOnly?e._e():t("b-button",[e._v("change")])],1)],1)}))],2)},n=[],i=a(8692),r={components:{ConfigurationItemLink:i.Z},props:{value:{type:Object}},data(){return{message:"",showMessage:!1,messageType:"success",changed:!1}},methods:{onSubmit(e){e.preventDefault,this.changed=!1},update(e){e.changed=!0,this.changed=!0,this.$emit("change",this.value)}}},o=r,l=a(1001),u=(0,l.Z)(o,s,n,!1,null,null,null),c=u.exports},6307:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"header-tag":"header"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Create "+e._s(void 0==e.classDescriptor?e.configurationItemType:e.classDescriptor.displayLabel)+" ")]},proxy:!0}])},[t("b-card-body",[void 0!=e.createRequest?t("b-form",{attrs:{inline:""},on:{submit:e.onSubmit}},[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("input-property-editor",{attrs:{value:e.createRequest.parameters},on:{change:function(t){e.changed=!0}}})],1),t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}}),t("b-col",{attrs:{sm:"9"}},[t("b-button",{directives:[{name:"show",rawName:"v-show",value:e.changed,expression:"changed"}],attrs:{type:"submit",variant:"primary"}},[e._v("Create")])],1)],1)],1)],1):e._e()],1)],1)},n=[],i=a(6265),r=a.n(i);function o(e){return new Promise(((t,a)=>{r().get("/api/create/template/"+e).then((e=>t(e.data))).catch((e=>a(e)))}))}function l(e){return new Promise(((t,a)=>{r().post("/api/create/execute",e).then((e=>t(e.data))).catch((e=>a(e)))}))}var u=a(9631),c=a(4207),d={components:{InputPropertyEditor:c.Z},data(){return{createRequest:void 0,classDescriptor:void 0,changed:!1}},computed:{configurationItemType(){return this.$route.params.configurationItemType}},mounted(){o(this.configurationItemType).then((e=>this.createRequest=e)),(0,u.C)(this.configurationItemType,!1).then((e=>this.classDescriptor=e))},methods:{onSubmit(e){e.preventDefault,l(this.createRequest).then((e=>{this.$router.push("/edit/"+e.configurationItemType+"/"+e.identifier)}))}}},p=d,h=a(1001),m=(0,h.Z)(p,s,n,!1,null,null,null),v=m.exports},2705:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var s=function(){var e=this,t=e._self._c;return void 0!=e.ci?t("configuration-item-editor",{attrs:{value:e.ci}}):e._e()},n=[],i=a(6265),r=a.n(i);function o(e,t){return new Promise(((a,s)=>{r().get("/api/reference/"+t+"/"+e).then((e=>a(e.data))).catch((e=>s(e)))}))}var l=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"header-tag":"header"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.value?.displayLabel)+" ")]},proxy:!0}])},[t("b-card-body",[t("b-dropdown",{staticClass:"mx-1",attrs:{right:"",text:"actions"}},e._l(e.availablableActions,(function(a){return t("b-dropdown-item",{key:a.identifier,staticClass:"m-2",on:{click:function(t){return e.onClickAction(a)}}},[e._v(e._s(a.displayLabel))])})),1),t("br"),t("b-alert",{attrs:{variant:e.messageType,show:e.showMessage,dismissible:""}},[e._v(e._s(e.message))]),t("br"),t("b-tabs",[t("b-tab",{attrs:{title:"Properties",active:""}},[t("configuration-item-property-editor",{attrs:{value:e.value}})],1),e._l(e.availablableViews,(function(a){return t("b-tab",{key:a.identifier,attrs:{title:a.displayLabel}},[t("configuration-item-view",{attrs:{ci:e.value,view:a}})],1)}))],2)],1)],1)},u=[],c=a(6844);function d(e){return new Promise(((t,a)=>{const s={targetCi:e};r().post("/api/view/getAvailable",s).then((e=>t(e.data.availableViews))).catch((e=>a(e)))}))}function p(e,t){const a={view:e,targetCi:t};return new Promise(((e,t)=>{r().post("/api/view/bind",a).then((t=>e(t.data.resultTable))).catch((e=>t(e)))}))}var h=function(){var e=this,t=e._self._c;return void 0!=e.updateRequest?t("b-form",{attrs:{inline:""},on:{submit:e.onSubmit}},[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("input-property-editor",{attrs:{value:e.updateRequest.properties},on:{change:function(t){e.changed=!0}}})],1),t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}}),t("b-col",{attrs:{sm:"9"}},[t("b-button",{directives:[{name:"show",rawName:"v-show",value:e.changed,expression:"changed"}],attrs:{type:"submit",variant:"primary"}},[e._v("Update")])],1)],1)],1)],1):e._e()},m=[];function v(e){return new Promise(((t,a)=>{r().post("/api/update/getTemplate",e).then((e=>t(e.data))).catch((e=>a(e)))}))}function b(e){return new Promise(((t,a)=>{r().post("/api/update/execute",e).then((e=>t(e.data))).catch((e=>a(e)))}))}var f=a(4207),g={components:{InputPropertyEditor:f.Z},props:{value:{type:Object}},data(){return{updateRequest:void 0,message:"",showMessage:!1,messageType:"success",changed:!1}},mounted(){v(this.value).then((e=>{this.updateRequest=e,this.changed=!1}))},methods:{onSubmit(e){e.preventDefault,this.changed=!1,b(this.updateRequest).then((e=>v(e).then((e=>{this.updateRequest=e,this.changed=!1}))))},update(e){e.changed=!0,this.changed=!0}}},y=g,_=a(1001),w=(0,_.Z)(y,h,m,!1,null,null,null),C=w.exports,k=function(){var e=this,t=e._self._c;return void 0!=e.table.rows?t("configuration-item-table",{attrs:{value:e.table}}):e._e()},T=[],I=a(4377),x={components:{ConfigurationItemTable:I.Z},data(){return{table:{}}},props:{ci:{type:Object},view:{type:Object}},mounted(){p(this.view,this.ci).then((e=>{this.table=e}))}},L=x,R=(0,_.Z)(L,k,T,!1,null,null,null),S=R.exports,A={components:{ConfigurationItemPropertyEditor:C,ConfigurationItemView:S},props:{value:{type:Object}},data(){return{availablableActions:Array(),availablableViews:Array(),message:"",showMessage:!1,messageType:"success"}},methods:{onClickAction(e){this.showMessage=!1,(0,c.F)(e,[this.value]).then((e=>{this.message=e.message,this.showMessage=!0,this.messageType="success"})).catch((t=>{this.message=e.displayLabel+" failed: "+t,this.messageType="warning",this.showMessage=!0}))}},mounted(){(0,c.u)([this.value]).then((e=>{this.availablableActions=e})),d(this.value).then((e=>{this.availablableViews=e}))}},q=A,D=(0,_.Z)(q,l,u,!1,null,null,null),Z=D.exports,P={components:{ConfigurationItemEditor:Z},data(){return{ci:void 0}},computed:{configurationItemType(){return this.$route.params.configurationItemType},configurationItemId(){return this.$route.params.configurationItemId}},mounted(){o(this.configurationItemId,this.configurationItemType).then((e=>this.ci=e))}},$=P,M=(0,_.Z)($,s,n,!1,null,null,null),O=M.exports},8124:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("h1",[e._v(e._s(e.configurationItemType))]),e._v(" Select cis from list, then click on one of the available actions "),t("b-alert",{attrs:{variant:e.messageType,show:e.showMessage,dismissible:""}},[e._v(e._s(e.messsage))]),t("br"),t("br"),t("b-button-group",e._l(e.availablableActions,(function(a){return t("b-button",{key:a.name,on:{click:function(t){return e.onClickAction(a)}}},[e._v(e._s(a.displayLabel))])})),1),t("br"),t("br"),t("b-table",{attrs:{items:e.cis,fields:["displayLabel"],selectable:"","select-mode":"multi"},on:{"row-selected":e.onRowSelected}})],1)},n=[],i=a(6265),r=a.n(i);function o(e){return new Promise(((t,a)=>{r().get("/api/list/"+e).then((e=>t(e.data))).catch((e=>a(e)))}))}var l={data(){return{cis:Array(),selectedCis:Array(),messsage:"",showMessage:!1,messageType:"success"}},computed:{configurationItemType(){return this.$route.params.configurationItemType}},mounted(){this.reloadList()},methods:{reloadList(){o(this.configurationItemType).then((e=>{this.cis=e.cis}))}}},u=l,c=a(1001),d=(0,c.Z)(u,s,n,!1,null,null,null),p=d.exports},103:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{"header-tag":"header"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Search "+e._s(void 0==e.classDescriptor?e.configurationItemType:e.classDescriptor.displayLabel)+" ")]},proxy:!0}])},[t("b-card-body",[void 0!=e.searchRequest?t("b-form",{attrs:{inline:""},on:{submit:e.onSubmit}},[e._l(e.searchRequest.parameters.stringFields,(function(a){return t("b-form-input",{key:a.name,staticClass:"mr-2",attrs:{placeholder:a.displayLabel+" filter"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"field.value"}})})),t("b-select",{staticClass:"mr-2",model:{value:e.searchRequest.resultType,callback:function(t){e.$set(e.searchRequest,"resultType",t)},expression:"searchRequest.resultType"}},[t("b-select-option",{attrs:{value:"ROW_REFERENCE"}},[e._v("Don't show any field")]),t("b-select-option",{attrs:{value:"HIGHLIGHTED_FIELDS"}},[e._v("Show highlighted fields")]),t("b-select-option",{attrs:{value:"ALL_FIELDS"}},[e._v("Show all fields")])],1),t("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.pending,expression:"!pending"}],staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[e._v("Search")]),t("b-button",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.classDescriptor&&e.classDescriptor.allowCreation,expression:"classDescriptor != undefined && classDescriptor.allowCreation"}],staticClass:"mr-2",on:{click:e.doCreate}},[e._v("Create new")])],2):t("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.pending,expression:"!pending"}],attrs:{type:"submit",variant:"primary"}},[e._v("List")]),t("b-progress",{directives:[{name:"show",rawName:"v-show",value:e.pending,expression:"pending"}],attrs:{value:100,max:100,animated:""}}),t("br"),void 0!=e.result?t("configuration-item-table",{on:{change:function(t){return e.doSearch()}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}}):e._e()],1)],1)},n=[],i=a(6265),r=a.n(i);function o(e){return new Promise(((t,a)=>{r().get("/api/search/template/"+e).then((e=>t(e.data))).catch((e=>a(e)))}))}function l(e){return new Promise(((t,a)=>{r().post("/api/search/execute",e).then((e=>t(e.data))).catch((e=>a(e)))}))}var u=a(4377),c=a(9631),d={components:{ConfigurationItemTable:u.Z},data(){return{searchRequest:void 0,result:void 0,classDescriptor:void 0,pending:!1}},computed:{configurationItemType(){return this.$route.params.configurationItemType}},mounted(){this.reloadFromTemplate(),(0,c.C)(this.configurationItemType,!1).then((e=>this.classDescriptor=e))},methods:{reloadFromTemplate(){o(this.configurationItemType).then((e=>this.searchRequest=e))},onSubmit(e){e.preventDefault(),this.doSearch()},doSearch(){this.pending=!0,l(this.searchRequest).then((e=>this.result=e)).finally((()=>this.pending=!1))},doCreate(){this.$router.push("/create/"+this.configurationItemType)}}},p=d,h=a(1001),m=(0,h.Z)(p,s,n,!1,null,null,null),v=m.exports},6844:function(e,t,a){a.d(t,{F:function(){return r},u:function(){return i}});var s=a(6265),n=a.n(s);function i(e){return new Promise(((t,a)=>{const s={targetCis:e};n().post("/api/action/getAvailable",s).then((e=>t(e.data.availableActions))).catch((e=>a(e)))}))}function r(e,t){return new Promise(((a,s)=>{const i={action:e,targetCis:t};n().post("/api/action/submit",i).then((e=>a(e.data))).catch((e=>s(e)))}))}}}]);
//# sourceMappingURL=about.b96ae169.js.map